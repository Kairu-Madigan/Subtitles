<head>
  <title>Subtitler</title>
</head>

<body>
  <div class='navbar navbar-fixed-top'>
    <div class='navbar-inner'>
      <div class='container-fluid'>
      <a class='brand'> Bento Subtitles </a>
      <ul class='nav pull-right'>
        {{> navigation}}
      </ul>
    </div>
  </div>
  </div>
    {{> map}}
  <div id='main' class='container-fluid'>
      {{> body}}
  </div>
</body>

<template name='navigation'>
   <li><a href='#' id='create-new-project'>New Project</a></li>
        <li class='active'><a href='#'>Library</a></li>
        <li class='divider-vertical'> </li>
        <li class='dropdown'>
          <a href='#' class='dropdown-toggle' data-toggle='dropdown'>Ben McMahen <b class='caret'></b></a>
          <ul class='dropdown-menu' role='dropdown' aria-labelledby='dropdownMenu' >
            <li><a href='#' tabindex='-1'>Settings... </a></li>
            <li class='divider'></li>
            <li><a href='#' tabindex='-1'>Logout... </a></li>
          </ul>
        </li>
</template>

<template name='body'>
    {{#if currentVideo}}
      <div class='row-fluid'>
        <div class='span5'>
          {{> video}}
          {{> stats}}
        </div>
        <div class='span7'>
          {{> captions}}
        </div>
      </div>
      {{else}}
        <div class='span12'>
          <input type='text' id='project-name' class='newproject'/>
          <input type='submit' class='btn'/>
        </div>
    {{/if}}
</template>

<template name='map'>
  <div class='timeline-wrapper'>
  {{#constant}}
    <svg id='video-map' width='100%' height='90'>    
      <g class='map-wrap' transform = 'translate(40,85)'>
            <line class='timeline-background'></line>
            <rect class='timeline-click-zone' y='-55' height='55'></rect>
            <g class='caption-spans'></g>
              <g class='time-labels'></g>
              <g class='tick-bars'></g>
            <line id='current-position' y1='0' y2='-50'></line>
        </g>
    </svg>
  {{/constant}}
</div>
</template>


<template name="video">
  <div class='row-fluid'>
    <div class='span12 toolbar'>
        <input type='button' class='btn' value='Preview' />
    </div>
  </div>
  <div class='row-fluid'>
    <div class='span12'>
  <video id='video-display'></video>
    </div>
  </div>
  <div class='row-fluid'>
    <div class='span12'>
      {{> controls}}
    </div>
  </div>
  <div class='row-fluid'>
    <div class='span12'>
      <input accept="video/*" type='file'  class='btn' name='video-input' id='video-input'/>
     </div>
  </div>
</template>

<template name='stats'>
  <ul>
    <li> Current Time: {{currentTime}} </li>
    <li> Start Time, End Time: {{startTime}} - {{endTime}} </li>
    <li> Looping? {{looping}} </li>
    <li> Video Playing? {{videoPlaying}} </li>
    <li> Saving? {{saving}} </li>
  </ul>
</template>

<template name='controls'>
  <a class='btn' id='play-video'>
  </a>
  <fieldset>
    <input type='checkbox'>
    <span>Loop</span> 
    <select id='loop-duration'>
      <option value='1'> 1s </option>
      <option value='2'> 2s </option>
      <option value='3'> 3s </option>
      <option value='4'> 4s </option>
      <option value='5' selected> 5s </option>
      <option value='6'> 6s </option>
      <option value='7'> 7s </option>
      <option value='8'> 8s </option>
      <option value='9'> 9s </option>
      <option value='10'> 10s </option>
    </select>
</fieldset>

  <fieldset>
    <span>Rate </span>
    <select class='playback-rate'>
      <option value='0'> 0x </option>
      <option value='-0.5'> -0.5x </option>
      <option value='-1'> -1x </option>
    </select>
  </fieldset>


  <input type='range'/>
</template>

<template name='captions'>
  <div class='row-fluid'>
    <div class='span12 toolbar'>
        <input type='text' placeholder='Search Captions'/>
        <input type='button' class='btn' value='Insert Caption' id='insert-new-caption'/>
        <input type='button' class='btn' value='Export' id='export-subtitles'/>
    </div>
  </div>
<div class='row-fluid'>
  <!-- Because sometimes tables make sense... -->
  <div id='captions' class='span12'>
    <table class='captions'>
      <tbody>
        {{#each caption}}
        {{> caption}}
        {{/each}}
      </tbody>
    </table>
</div>
</div>
</template>

<template name='caption'>
  <tr class='caption'>
    <td class='times left-fixed-width'>
      <p>
      {{#with formatTime this}}
        {{start}} - {{end}}
      {{/with}}
    </p>
    </td>
  <td class="expandingArea active">
      <pre><span></span><br></pre>
    <textarea id='{{_id}}'>{{text}}</textarea>
  </td>
  <td href='#' class='delete-sub right-fixed-width'>
    <i class='icon-trash'></i>
  </td>
  </tr>
</template>